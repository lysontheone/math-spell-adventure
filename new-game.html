<!DOCTYPE html>
<html>
<head>
    <title>Math & Spell Adventure</title>
    <style>
        /* Basic styles */
        @import url('https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&display=swap');
        
        :root {
            --primary-color: #4CAF50;
            --primary-dark: #388E3C;
            --secondary-color: #2196F3;
            --background: #f0f9f0;
            --card-bg: #ffffff;
            --text: #2E7D32;
            --text-light: #4CAF50;
            --error: #f44336;
            --success: #4CAF50;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body { 
            font-family: 'Nunito', 'Comic Sans MS', 'Arial Rounded MT', Arial, sans-serif; 
            text-align: center; 
            padding: 20px;
            background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
            color: var(--text);
            min-height: 100vh;
            line-height: 1.6;
        }
        .container {
            max-width: 800px;
            margin: 20px auto;
            background: var(--card-bg);
            padding: 30px;
            border-radius: 20px;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
            transition: var(--transition);
            border: 1px solid rgba(0,0,0,0.1);
        }
        
        .container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 10px;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
        }
        .game-mode {
            background: var(--card-bg);
            padding: 25px 20px;
            border-radius: 15px;
            box-shadow: var(--shadow);
            width: 220px;
            transition: var(--transition);
            border: 1px solid rgba(0,0,0,0.05);
            position: relative;
            overflow: hidden;
        }
        
        .game-mode::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: var(--primary-color);
            transform: scaleX(0);
            transition: var(--transition);
        }
        
        .game-mode:hover::after {
            transform: scaleX(1);
        }
        
        .game-mode:hover {
            transform: translateY(-5px);
        }
        
        .game-icon {
            font-size: 40px;
            margin: 10px 0;
        }
        
        .btn {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            z-index: 1;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .btn::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--primary-dark);
            z-index: -1;
            transform: scaleX(0);
            transform-origin: right;
            transition: transform 0.3s ease;
            border-radius: 50px;
        }
        
        .btn:hover::after {
            transform: scaleX(1);
            transform-origin: left;
        }
        .btn:hover {
            background: #388e3c;
            transform: scale(1.05);
        }
        
        .option {
            transition: var(--transition);
            border: 2px solid #e0e0e0;
            background: white;
            color: #333;
            padding: 12px 20px;
            margin: 8px 0;
            border-radius: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .option::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 5px;
            height: 100%;
            background: var(--primary-color);
            transform: scaleY(0);
            transition: transform 0.3s ease;
        }
        
        .option:hover::before {
            transform: scaleY(1);
        }
        
        .option:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .option:disabled {
            opacity: 0.7;
            cursor: not-allowed;
        }
        #question {
            font-size: 24px;
            margin: 20px 0;
        }
        .option {
            display: block;
            width: 80%;
            margin: 10px auto;
            padding: 10px;
            background: #e9e9e9;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        .option:hover {
            background: #ddd;
        }
        #feedback {
            margin: 20px 0;
            font-size: 18px;
            min-height: 27px;
        }
        
        /* Animations */
        @keyframes bounceIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                margin: 10px;
                padding: 20px 15px;
            }
            
            .game-mode {
                width: 100%;
                margin-bottom: 15px;
            }
            
            #question {
                font-size: 20px;
            }
            
            .btn {
                width: 100%;
                margin: 10px 0;
            }
        }
        
        /* Game mode selection */
        .game-modes {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 30px 0;
            flex-wrap: wrap;
        }
        
        .game-icon {
            font-size: 48px;
            margin-bottom: 15px;
            transition: var(--transition);
        }
        
        .game-mode:hover .game-icon {
            transform: scale(1.1) rotate(5deg);
        }
        
        /* Score and question counter */
        .game-stats {
            display: flex;
            justify-content: space-between;
            background: rgba(255, 255, 255, 0.8);
            padding: 15px 25px;
            border-radius: 50px;
            margin: 20px 0;
            font-weight: bold;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            border: 1px solid rgba(0, 0, 0, 0.05);
        }
        
        .highlight {
            color: var(--primary-color);
            font-weight: bold;
            font-size: 1.2em;
        }
        
        /* Result screen */
        .result-summary {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin: 20px 0;
            box-shadow: var(--shadow);
            animation: bounceIn 0.6s ease-out;
        }
        
        .trophy {
            font-size: 80px;
            margin: 20px 0;
            display: inline-block;
            animation: pulse 2s infinite;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Math & Spell Adventure</h1>
        
        <!-- Start Screen -->
        <div id="start-screen">
            <h2>Choose Your Game Mode</h2>
            <div class="game-modes">
                <div class="game-mode" id="math-mode">
                    <div class="game-icon">‚ûó</div>
                    <h3>Math Challenge</h3>
                    <p>Test your math skills!</p>
                    <button class="btn start-btn" data-mode="math">Play Math</button>
                </div>
                <div class="game-mode" id="spelling-mode">
                    <div class="game-icon">üî§</div>
                    <h3>Spelling Bee</h3>
                    <p>Practice your spelling!</p>
                    <button class="btn start-btn" data-mode="spelling">Play Spelling</button>
                </div>
            </div>
        </div>
        
        <!-- Game Screen -->
        <div id="game-screen" class="hidden">
            <h2 id="game-title">Game Title</h2>
            <div class="game-stats">
                <div>Score: <span id="score-value">0</span></div>
                <div>Question: <span id="question-number">1</span>/<span id="total-questions">5</span></div>
            </div>
            
            <div id="question-container">
                <div id="question">Question will appear here</div>
                <div id="hint" style="display: none; font-style: italic; margin: 10px 0; color: #666;"></div>
                <div id="options">
                    <!-- Options will be added by JavaScript -->
                </div>
            </div>
            
            <div id="feedback"></div>
            <button id="next-btn" class="btn hidden">Next Question ‚û°Ô∏è</button>
        </div>
        
        <!-- Game Over Screen -->
        <div id="game-over" class="hidden">
            <h2>Game Complete! üéâ</h2>
            <div class="result-summary">
                <p>You scored <span id="final-score" class="highlight">0</span> points!</p>
                <p id="encouragement">Great job!</p>
                <div id="trophy" style="font-size: 60px; margin: 20px 0;">üèÜ</div>
            </div>
            <button id="restart-btn" class="btn">Play Again üîÑ</button>
            <div style="margin-top: 20px;">
                <button id="change-mode-btn" class="btn" style="background: #2196F3;">Change Game Mode</button>
            </div>
        </div>
    </div>

    <script>
        // Game data
        const gameData = {
            math: {
                name: 'Math Challenge',
                questions: [
                    // Addition
                    { question: '7 + 5', answer: '12', options: ['10', '11', '12', '13'] },
                    { question: '9 + 8', answer: '17', options: ['15', '16', '17', '18'] },
                    { question: '12 + 15', answer: '27', options: ['25', '26', '27', '28'] },
                    // Subtraction
                    { question: '15 - 7', answer: '8', options: ['7', '8', '9', '10'] },
                    { question: '20 - 12', answer: '8', options: ['6', '7', '8', '9'] },
                    // Multiplication
                    { question: '6 √ó 7', answer: '42', options: ['40', '42', '45', '48'] },
                    { question: '8 √ó 9', answer: '72', options: ['70', '72', '74', '76'] },
                    { question: '12 √ó 5', answer: '60', options: ['50', '55', '60', '65'] },
                    // Division
                    { question: '36 √∑ 6', answer: '6', options: ['5', '6', '7', '8'] },
                    { question: '81 √∑ 9', answer: '9', options: ['8', '9', '10', '11'] },
                    // Mixed operations
                    { question: '(5 + 3) √ó 2', answer: '16', options: ['14', '15', '16', '17'] },
                    { question: '20 - (4 √ó 3)', answer: '8', options: ['6', '7', '8', '9'] },
                    { question: '15 + (24 √∑ 6)', answer: '19', options: ['17', '18', '19', '20'] },
                    // Larger numbers
                    { question: '125 + 75', answer: '200', options: ['190', '200', '210', '220'] },
                    { question: '500 - 275', answer: '225', options: ['215', '225', '235', '245'] },
                    { question: '25 √ó 4', answer: '100', options: ['80', '90', '100', '110'] },
                    { question: '144 √∑ 12', answer: '12', options: ['10', '11', '12', '13'] },
                    // Word problems
                    { 
                        question: 'If a box has 4 rows of 6 cookies, how many cookies are there?', 
                        answer: '24', 
                        options: ['20', '22', '24', '26'] 
                    },
                    { 
                        question: 'A book costs $15 and a pen costs $3. How much for 2 books and 3 pens?', 
                        answer: '39', 
                        options: ['35', '37', '39', '41'] 
                    }
                ]
            },
            spelling: {
                name: 'Spelling Bee',
                questions: [
                    // Animals
                    { word: 'elephant', hint: 'A large gray animal with a trunk', answer: 'elephant', options: ['elefant', 'elephunt', 'elephant', 'elephent'] },
                    { word: 'giraffe', hint: 'A tall African animal with a long neck', answer: 'giraffe', options: ['girafe', 'geraffe', 'giraffe', 'jiraffe'] },
                    { word: 'butterfly', hint: 'An insect with colorful wings', answer: 'butterfly', options: ['butterflie', 'butterfly', 'butterflai', 'butterfley'] },
                    { word: 'dolphin', hint: 'A smart marine mammal that lives in the ocean', answer: 'dolphin', options: ['dolfin', 'dolphin', 'dolfen', 'dolphyn'] },
                    { word: 'kangaroo', hint: 'An Australian animal that carries its baby in a pouch', answer: 'kangaroo', options: ['kangaroo', 'kangaru', 'kangarou', 'kangeroo'] },
                    
                    // Nature
                    { word: 'mountain', hint: 'A very high natural place on Earth', answer: 'mountain', options: ['mountain', 'mountin', 'moutain', 'mountan'] },
                    { word: 'volcano', hint: 'A mountain that can erupt with lava', answer: 'volcano', options: ['volcanno', 'volcaneo', 'volcano', 'volcaino'] },
                    { word: 'hurricane', hint: 'A powerful storm with strong winds and rain', answer: 'hurricane', options: ['hurricane', 'hurracane', 'huricane', 'hurricaine'] },
                    
                    // School
                    { word: 'mathematics', hint: 'The study of numbers, shapes, and patterns', answer: 'mathematics', options: ['mathematics', 'mathamatics', 'mathemetics', 'mathemathics'] },
                    { word: 'science', hint: 'The study of the natural world', answer: 'science', options: ['sciense', 'sceince', 'science', 'sciance'] },
                    { word: 'library', hint: 'A place where you can borrow books', answer: 'library', options: ['library', 'libary', 'liberry', 'librery'] },
                    
                    // Food
                    { word: 'strawberry', hint: 'A sweet red fruit with seeds on the outside', answer: 'strawberry', options: ['strawbery', 'strawberry', 'strawbery', 'strawberrie'] },
                    { word: 'chocolate', hint: 'A sweet, brown food made from cacao beans', answer: 'chocolate', options: ['chocolate', 'choclate', 'choclolate', 'chocolat'] },
                    { word: 'restaurant', hint: 'A place where you can buy and eat meals', answer: 'restaurant', options: ['restaurant', 'restaraunt', 'resturant', 'resterant'] },
                    
                    // Common misspellings
                    { word: 'definitely', hint: 'Without a doubt', answer: 'definitely', options: ['definately', 'definitely', 'definitley', 'definately'] },
                    { word: 'separate', hint: 'To divide or keep apart', answer: 'separate', options: ['seperate', 'separete', 'separate', 'seperete'] },
                    { word: 'occurrence', hint: 'An event or incident', answer: 'occurrence', options: ['occurence', 'ocurrance', 'occurrence', 'occurence'] },
                    
                    // Challenge words
                    { word: 'extravaganza', hint: 'A spectacular show or event', answer: 'extravaganza', options: ['extravaganza', 'extravaganza', 'extravaganza', 'extravaganza'] },
                    { word: 'kaleidoscope', hint: 'A tube with mirrors and colored glass', answer: 'kaleidoscope', options: ['kaleidoscope', 'kaleidoscope', 'kaleidoscope', 'kaleidoscope'] },
                    { word: 'xylophone', hint: 'A musical instrument with wooden bars', answer: 'xylophone', options: ['xylophone', 'xylophone', 'xylophone', 'xylophone'] },
                    
                    // Homophones
                    { word: 'their', hint: 'Belonging to them', answer: 'their', options: ['there', 'their', 'they\'re', 'thair'] },
                    { word: 'weather', hint: 'The state of the atmosphere', answer: 'weather', options: ['whether', 'weather', 'wether', 'wheather'] },
                    { word: 'principal', hint: 'The head of a school', answer: 'principal', options: ['principle', 'principal', 'principel', 'princaple'] },
                    
                    // Fun words
                    { word: 'bumblebee', hint: 'A fuzzy, flying insect that makes honey', answer: 'bumblebee', options: ['bumblebee', 'bumblebee', 'bumblebee', 'bumblebee'] },
                    { word: 'skateboard', hint: 'A board with wheels for riding', answer: 'skateboard', options: ['skatebord', 'skateboard', 'skatebored', 'skatebord'] },
                    { word: 'watermelon', hint: 'A large, juicy fruit with a green rind', answer: 'watermelon', options: ['watermellon', 'watermellon', 'watermelon', 'watermellun'] }
                ]
            }
        };
        
        // Game state
        const gameState = {
            mode: '',
            score: 0,
            currentQuestion: 0,
            questions: []
        };

        // DOM Elements
        const startScreen = document.getElementById('start-screen');
        const gameScreen = document.getElementById('game-screen');
        const gameOverScreen = document.getElementById('game-over');
        const questionEl = document.getElementById('question');
        const optionsEl = document.getElementById('options');
        const feedbackEl = document.getElementById('feedback');
        const nextBtn = document.getElementById('next-btn');
        const finalScoreEl = document.getElementById('final-score');
        
        // Initialize the game
        function init() {
            console.log('Game initialized');
            
            // Set up event listeners for mode selection
            document.querySelectorAll('.start-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    startGame(this.dataset.mode);
                });
            });
            
            // Set up restart button
            document.getElementById('restart-btn').addEventListener('click', function() {
                startGame(gameState.mode);
            });
            
            // Set up change mode button
            document.getElementById('change-mode-btn').addEventListener('click', function() {
                // Clear any existing confetti
                document.querySelectorAll('div[style*="position: absolute"]').forEach(el => el.remove());
                
                // Reset game state
                gameState.score = 0;
                gameState.currentQuestion = 0;
                
                // Show start screen
                gameOverScreen.classList.add('hidden');
                startScreen.classList.remove('hidden');
            });
            
            // Set up next question button
            nextBtn.addEventListener('click', loadNextQuestion);
            
            // Show start screen
            startScreen.classList.remove('hidden');
            gameScreen.classList.add('hidden');
            gameOverScreen.classList.add('hidden');
            
            // Set initial score display
            document.getElementById('score-value').textContent = '0';
            document.getElementById('question-number').textContent = '1';
            document.getElementById('total-questions').textContent = '5';
        }
        
        // Start the game with selected mode
        function startGame(mode) {
            console.log('Starting', mode, 'game...');
            
            // Set game mode and load questions
            gameState.mode = mode;
            gameState.questions = [...gameData[mode].questions];
            
            // Reset game state
            gameState.score = 0;
            gameState.currentQuestion = 0;
            
            // Update game title
            document.querySelector('#game-screen h2').textContent = gameData[mode].name;
            
            // Show game screen
            startScreen.classList.add('hidden');
            gameOverScreen.classList.add('hidden');
            gameScreen.classList.remove('hidden');
            
            // Load first question
            loadQuestion(0);
        }
        
        // Load a question
        function loadQuestion(index) {
            console.log('Loading question', index);
            
            // Check if game is over
            if (index >= gameState.questions.length) {
                endGame();
                return;
            }
            
            const question = gameState.questions[index];
            gameState.currentQuestion = index;
            
            // Update question display based on game mode
            if (gameState.mode === 'math') {
                questionEl.textContent = `What is ${question.question}?`;
                document.getElementById('hint').style.display = 'none';
            } else { // spelling mode
                questionEl.textContent = `Spell the word:`;
                document.getElementById('hint').textContent = `Hint: ${question.hint}`;
                document.getElementById('hint').style.display = 'block';
            }
            
            // Clear previous options
            optionsEl.innerHTML = '';
            
            // Shuffle options to randomize their order
            const shuffledOptions = [...question.options].sort(() => Math.random() - 0.5);
            
            // Create and add option buttons
            shuffledOptions.forEach(option => {
                const button = document.createElement('button');
                button.className = 'option';
                button.textContent = option;
                button.onclick = () => checkAnswer(option, question.answer);
                optionsEl.appendChild(button);
            });
            
            // Hide next button until answer is selected
            nextBtn.classList.add('hidden');
            feedbackEl.textContent = '';
            
            // If it's a spelling question, also show the word to spell
            if (gameState.mode === 'spelling') {
                const wordDisplay = document.createElement('div');
                wordDisplay.className = 'word-display';
                wordDisplay.textContent = question.word.split('').join(' '); // Add space between letters
                wordDisplay.style.fontSize = '24px';
                wordDisplay.style.margin = '20px 0';
                wordDisplay.style.letterSpacing = '5px';
                optionsEl.insertBefore(wordDisplay, optionsEl.firstChild);
            }
        }
        
        // Check the selected answer
        function checkAnswer(selected, correct) {
            console.log('Checking answer:', selected, 'Correct:', correct);
            
            // Disable all option buttons
            const options = document.querySelectorAll('.option');
            options.forEach(option => {
                option.disabled = true;
                if (option.textContent === correct) {
                    option.style.background = '#a5d6a7'; // Light green for correct answer
                    option.style.transform = 'scale(1.05)';
                    option.style.boxShadow = '0 0 10px rgba(0,255,0,0.5)';
                }
                if (option.textContent === selected && selected !== correct) {
                    option.style.background = '#ef9a9a'; // Light red for wrong answer
                }
            });
            
            // Show feedback with emoji
            if (selected === correct) {
                const emojis = ['üéâ', 'üëç', 'üëè', '‚ú®', 'üíØ'];
                const randomEmoji = emojis[Math.floor(Math.random() * emojis.length)];
                feedbackEl.textContent = `Correct! ${randomEmoji}`;
                feedbackEl.style.color = '#2e7d32'; // Dark green
                gameState.score += 10;
                
                // Play success sound
                const successSound = new Audio('data:audio/wav;base64,UklGRl9vT19XQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YU' + 
                    'A'.repeat(1000)); // Simple beep sound
                successSound.play().catch(e => console.log('Audio play failed:', e));
            } else {
                feedbackEl.innerHTML = `Oops! The correct spelling is: <strong>${correct}</strong>`;
                feedbackEl.style.color = '#c62828'; // Dark red
                
                // Play error sound
                const errorSound = new Audio('data:audio/wav;base64,UklGRl9vT19XQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YU' + 
                    'B'.repeat(1000)); // Simple error beep
                errorSound.play().catch(e => console.log('Audio play failed:', e));
            }
            
            // Update score display
            document.getElementById('score-value').textContent = gameState.score;
            
            // Show next button
            nextBtn.classList.remove('hidden');
        }
        
        // Load the next question
        function loadNextQuestion() {
            // Update question counter
            document.getElementById('question-number').textContent = gameState.currentQuestion + 2;
            
            // Load next question
            gameState.currentQuestion++;
            loadQuestion(gameState.currentQuestion);
        }
        
        // End the game
        function endGame() {
            console.log('Game over. Final score:', gameState.score);
            
            // Update final score and encouragement
            const finalScoreEl = document.getElementById('final-score');
            const encouragementEl = document.getElementById('encouragement');
            
            finalScoreEl.textContent = gameState.score;
            
            // Set encouragement message based on score
            const maxScore = gameState.questions.length * 10;
            const percentage = (gameState.score / maxScore) * 100;
            
            if (percentage >= 90) {
                encouragementEl.textContent = 'Perfect! You\'re a star! ‚≠ê';
            } else if (percentage >= 70) {
                encouragementEl.textContent = 'Excellent work! Keep it up! üëè';
            } else if (percentage >= 50) {
                encouragementEl.textContent = 'Good job! You\'re getting better! üëç';
            } else {
                encouragementEl.textContent = 'Nice try! Practice makes perfect! üí™';
            }
            
            // Show game over screen
            gameScreen.classList.add('hidden');
            gameOverScreen.classList.remove('hidden');
            
            // Add confetti effect
            createConfetti();
        }
        
        // Create confetti effect
        function createConfetti() {
            const colors = ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff', '#00ffff'];
            const container = document.querySelector('.result-summary');
            
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.style.position = 'absolute';
                confetti.style.width = '10px';
                confetti.style.height = '10px';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.top = '-20px';
                confetti.style.opacity = Math.random();
                confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
                confetti.style.animation = `fall ${Math.random() * 3 + 2}s linear forwards`;
                
                // Add animation
                const style = document.createElement('style');
                style.textContent = `
                    @keyframes fall {
                        to {
                            transform: translateY(100vh) rotate(360deg);
                            opacity: 0;
                        }
                    }
                `;
                document.head.appendChild(style);
                
                document.body.appendChild(confetti);
                
                // Remove confetti after animation
                setTimeout(() => {
                    confetti.remove();
                }, 5000);
            }
        }
        
        // Start the game when the page loads
        window.onload = init;
    </script>
</body>
</html>
